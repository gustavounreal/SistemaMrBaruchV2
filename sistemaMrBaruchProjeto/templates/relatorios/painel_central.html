{% extends 'base/base.html' %}
{% load static %}

{% block title %}Central de Relatórios - Mr. Baruch{% endblock %}

{% block content %}
<div class="container-fluid py-4">
  
  <!-- Cabeçalho -->
  <div class="row mb-4 align-items-center">
    <div class="col-md-8">
      <h2 class="fw-bold text-dark mb-1">
        <i class="bi bi-graph-up-arrow me-2 text-danger"></i>Central de Relatórios
      </h2>
      <p class="text-muted mb-0">Análises e indicadores gerenciais do sistema Mr. Baruch</p>
    </div>
    <div class="col-md-4 text-md-end mt-3 mt-md-0">
      <a href="/accounts/dashboard/" class="btn btn-outline-secondary">
        <i class="bi bi-arrow-left"></i> Painel de Controle
      </a>
    </div>
  </div>

  <!-- ========== SEÇÃO: COMERCIAL E VENDAS ========== -->
  <div class="mb-5">
    <div class="d-flex align-items-center mb-3">
      <div class="bg-primary text-white p-2 rounded me-2">
        <i class="bi bi-cart-check fs-5"></i>
      </div>
      <h4 class="fw-bold mb-0">Comercial e Vendas</h4>
    </div>

    <div class="row g-4">
      <!-- 1. Leads -->
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-person-lines-fill text-info" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Relatório de Leads</h5>
            <p class="text-muted small mb-3">Análise detalhada de leads captados</p>
            <a href="{% url 'relatorios:relatorio_leads' %}" class="btn btn-info w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- 2. Consultores -->
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-person-badge text-success" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Relatório de Consultores</h5>
            <p class="text-muted small mb-3">Performance de vendas e comissões (Comercial 1)</p>
            <a href="{% url 'relatorios:relatorio_consultores' %}" class="btn btn-success w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

     

      <!-- 4. Comercial 2 -->
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-graph-up-arrow text-primary" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Comercial 2</h5>
            <p class="text-muted small mb-3">Métricas e performance de repescagem</p>
            <a href="{% url 'relatorios:dashboard_kpis_comercial2' %}" class="btn btn-primary w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>     
    </div>
  </div>

  <!-- ========== SEÇÃO: Comissões ========== -->
  <div class="mb-5">
    <div class="d-flex align-items-center mb-3">
      <div class="bg-success text-white p-2 rounded me-2">
        <i class="bi bi-currency-dollar fs-5"></i>
      </div>
      <h4 class="fw-bold mb-0">Comissões</h4>
    </div>

    <div class="row g-4">
      <!-- Comissões -->
      <div class="col-lg-4 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-cash-coin text-success" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Comissões</h5>
            <p class="text-muted small mb-3">Relatório de comissões pagas e pendentes</p>
            <a href="{% url 'relatorios:relatorio_comissoes' %}" class="btn btn-success w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- Financeiro 
      <div class="col-lg-4 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-bank text-warning" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Financeiro</h5>
            <p class="text-muted small mb-3">Análise financeira completa</p>
            <a href="{% url 'relatorios:relatorio_financeiro' %}" class="btn btn-warning w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>-->

      <!-- Vendas 
      <div class="col-lg-4 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-receipt text-secondary" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Vendas</h5>
            <p class="text-muted small mb-3">Relatório de vendas realizadas</p>
            <a href="{% url 'relatorios:relatorio_vendas' %}" class="btn btn-secondary w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>-->
    </div>
  </div>

  <!-- ========== SEÇÃO: COMPLIANCE E AUDITORIA ========== -->
  <div class="mb-5">
    <div class="d-flex align-items-center mb-3">
      <div class="bg-danger text-white p-2 rounded me-2">
        <i class="bi bi-shield-check fs-5"></i>
      </div>
      <h4 class="fw-bold mb-0">Compliance e Auditoria</h4>
    </div>

    

    <div class="row g-4">
      <!-- Auditoria -->
      <div class="col-lg-4 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-clipboard-data text-danger" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Auditoria de Edições</h5>
            <p class="text-muted small mb-3">Análise completa de alterações nas vendas</p>
            <a href="{% url 'compliance:relatorio_auditoria' %}" class="btn btn-danger w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- Gestão Pós-Venda -->
      <div class="col-lg-4 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-shield-fill-check text-primary" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Gestão Pós-Venda</h5>
            <p class="text-muted small mb-3">Acompanhamento do fluxo pós-venda</p>
            <a href="{% url 'compliance:painel_pos_venda' %}" class="btn btn-primary w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

       <!-- 3. Compliance -->
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-shield-check text-success" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Relatório Compliance</h5>
            <p class="text-muted small mb-3">Análises, aprovações e reprovações</p>
            <a href="{% url 'relatorios:relatorio_compliance' %}" class="btn btn-success w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ========== SEÇÃO: OUTROS RELATÓRIOS ========== -->
  <div class="mb-4">
    <div class="d-flex align-items-center mb-3">
      <div class="bg-secondary text-white p-2 rounded me-2">
        <i class="bi bi-grid-3x3 fs-5"></i>
      </div>
      <h4 class="fw-bold mb-0">Outros Relatórios</h4>
    </div>

    <div class="row g-4">
       <!-- 5. Ranking Geral -->
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-trophy-fill text-danger" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Ranking de Todos</h5>
            <p class="text-muted small mb-3">Atendentes, Consultores e Captadores</p>
            <a href="{% url 'relatorios:ranking_geral' %}" class="btn btn-danger w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- 6. Dashboard Gráficos (Geral) -->
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-speedometer2 text-warning" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Dashboard Gráficos</h5>
            <p class="text-muted small mb-3">Visualizações e gráficos gerais</p>
            <a href="{% url 'relatorios:dashboard_graficos' %}" class="btn btn-warning w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- 7. Notas Fiscais 
      <div class="col-lg-3 col-md-6">
        <div class="card border-0 shadow-sm h-100 hover-card">
          <div class="card-body text-center d-flex flex-column">
            <div class="mb-3">
              <i class="bi bi-file-earmark-text-fill text-success" style="font-size: 3rem;"></i>
            </div>
            <h5 class="fw-bold mb-2">Notas Fiscais</h5>
            <p class="text-muted small mb-3">Gerenciamento e emissão de NF-e</p>
            <a href="{% url 'notas_fiscais:dashboard' %}" class="btn btn-success w-100 mt-auto">
              <i class="bi bi-box-arrow-up-right"></i> Acessar
            </a>
          </div>
        </div>
      </div>-->


    </div>
  </div>
</div>

<!-- Estilos Customizados -->
<style>
  .hover-card {
    transition: all 0.3s ease;
    cursor: pointer;
  }
  
  .hover-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15) !important;
  }
  
  .hover-card.opacity-75:hover {
    transform: none;
  }
  
  .bg-primary, .bg-success, .bg-danger, .bg-secondary {
    background-color: var(--bs-primary) !important;
  }
  
  /* Animação suave nos ícones */
  .hover-card:hover i {
    transform: scale(1.1);
    transition: transform 0.3s ease;
  }
</style>
{% endblock %}
